jQuery(document).ready((function(t){t("<select />").appendTo(".woocommerce-MyAccount-navigation"),t("<option />",{selected:"selected",value:"",text:"Go to..."}).appendTo(".woocommerce-MyAccount-navigation select"),t(".woocommerce-MyAccount-navigation > ul a").each((function(){var e=t(this);t("<option />",{value:e.attr("href"),text:e.text()}).appendTo(".woocommerce-MyAccount-navigation select")})),t(".woocommerce-MyAccount-navigation select").change((function(){window.location=t(this).find("option:selected").val()})),t(window).on("hashchange",(function(e){t("#customer_login").trigger("display_active_tab")})),t("#customer_login").on("display_active_tab",(function(){let e=window.location.hash?window.location.hash.replace("#",""):"login";t(".woocommerce-account .fullrow.row-tab-content").hide(),t(".woocommerce-account .fullrow.row-"+e).fadeIn(),t(".woocommerce-account .tab-button").removeClass("active"),t(".woocommerce-account .tab-button-"+e).addClass("active")})),t("#customer_login").trigger("display_active_tab")})),jQuery(document).ready((function(t){t(".show-print-ticket-page").on("click",(function(e){e.preventDefault();let o=t(this).parents(".ticket-row").next(".ticket-row-detail").find(".ticket-print-area"),n=t("#print_style").html(),i=window.open();i.document.write("<style>"+n+"</style>"),i.document.write(t(o).html()),i.document.close(),Boolean(i.chrome)?i.onload=function(){i.focus(),i.print(),i.close()}:(i.document.close(),i.focus(),i.print(),i.close())})),t(".show-print-ticket-view").on("click",(function(e){e.preventDefault(),t(".ticket-column-detail").removeClass("open"),t(this).parents(".ticket-row").next(".ticket-row-detail").find(".ticket-column-detail").addClass("open")})),t(".close-print-ticket-view").on("click",(function(e){e.preventDefault(),t(this).parents(".ticket-row-detail").find(".ticket-column-detail").removeClass("open")}))})),jQuery(document).ready((function(t){if(!t("body").hasClass("woocommerce-etickets"))return!1;let e={selected_id:null,order_id:null,order_item_id:null,ajax_nonce:woo_account.ajax_nonce,cancel_type:null};const o=()=>{t("#eticket-modal").modal("hide"),t("#eticket-modal-confirmation").modal("hide")},n=e=>{t(".ticket-row[data-ticket_id="+e+"]").remove()},i=(e,o)=>{t("#eticket-modal-notification .modal-title").text(e),t("#eticket-modal-notification .modal-body").text(o),t("#eticket-modal-notification").modal("show")};t("#eticket-modal").on("hidden.bs.modal",(function(t){e.selected_id=null,e.order_item_id=null,e.order_id=null,e.cancel_type=null})),t(".ticket-row-action-cancel").on("click",(function(o){o.preventDefault(),e.selected_id=t(this).parents(".ticket-row").data("ticket_id"),e.order_id=t(this).parents(".ticket-row").data("order_id"),e.order_item_id=t(this).parents(".ticket-row").data("order_item_id");const n=t(this).parents("tr").clone(),i=t(this).parents("tr").clone();t(n).find("td").last().remove(),t(i).find("td").last().remove(),t("#eticket-modal table tbody").empty(),t("#eticket-modal-confirmation table tbody").empty(),t("#eticket-modal table tbody").append(n),t("#eticket-modal-confirmation table tbody").append(i),t("#eticket-modal").modal("show")})),t(".eticket-modal-actions").on("click",(function(o){if(o.preventDefault(),!e.selected_id)return!1;e.cancel_type=t(this).data("action"),t("#eticket-modal-confirmation .text-cancel-info").hide(),t("#eticket-modal-confirmation .text-cancel-action").hide(),t("#eticket-modal-confirmation .text-cancel-info-"+e.cancel_type).show(),t("#eticket-modal-confirmation .text-cancel-action-"+e.cancel_type).show(),t("#eticket-modal-confirmation").modal("show")})),t(".eticket-modal-confirmation-continue").on("click",(function(c){if(c.preventDefault(),!e.selected_id)return!1;t.ajax({url:woo_account.ajax_url,type:"POST",dataType:"json",data:{action:"muse_cancel_ticket",data:e}}).done((function(t){t.success?(n(t.ticket_id),i(t.notification.title,t.notification.content)):i(t.notification.title,t.notification.content)})).fail((function(){console.log("error")})).always((function(){console.log("complete"),o()}))})),t(".ticket-row-action-print").on("click",(function(e){e.preventDefault();let o=t(this).attr("href"),n=window.open(o,"Print","toolbar=0, resizable=0");n.addEventListener("load",(function(){n.print(),n.close()}),!0)}))}));
